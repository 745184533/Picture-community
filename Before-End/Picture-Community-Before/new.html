<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/page.css"/>
		<script src="js/vue.js"></script>
		<script src="js/modernizr.touch.js"></script>
        <link href="css/mfb.min.css" rel="stylesheet">

		<link rel="stylesheet" type="text/css" href="css/uploadPicture.css">
		<script type="text/javascript" src="js/uploadPicture.js"></script>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<title></title>
	</head>
	<body>
	<!--背景层-->
	<div id="popLayer"></div>
	<!--弹出框-->
	<div class="popBox" id="popBox_upload">
		<!--关闭按钮-->
		<div class="close">
			<a href="javascript:void(0)" onclick="closeBox()">关闭</a>
		</div>
		<!--上传图片标题-->
		<div class="content" style="text-align: center;font-size: 25px">上传图片到图库系统</div>
		<br>
		<!--给上传的图片添加标签-->
		<form class="layui-form">
			<div style="padding: 10px;">
				<div class="layui-form-item">
					<label class="layui-input-inline">标签1(必填)：</label>
					<input type="text" class="layui-input" id="tag1">
				</div>
				<div class="layui-form-item">
					<label class="layui-input-inline">标签2(选填)：</label>
					<input type="text" class="layui-input" id="tag2">
				</div>
				<div class="layui-form-item">
					<label class="layui-input-inline">标签3(选填)：</label>
					<input type="text" class="layui-input" id="tag3">
				</div>
			</div>
		</form>
		<br>
		<!--复选框，遵循上传图片协议-->
		<form style="padding-left:10px;padding-right:10px">
			<input type="checkbox" name="agreement" value="agree_1" id="agree_1" onclick="checkAgree()">我同意放弃所上传图片的所有权，图片归图库系统所有。<br>
			<input type="checkbox" name="agreement" value="agree_2" id="agree_2" onclick="checkAgree()">我保证所上传的图片并非盗用或涉及其他非法行为。
		</form>
		<br>
		<!--上传图片-->
		<div class="layui-form-item" style="padding-left:10px;padding-right:10px">
			<div class="layui-input-block">
				<input type="hidden" id="img_url">
				<input type="file" onchange="showImg()" id="img_file">
				<img src="" alt="" id="img_id" style="height: 150px">
			</div>
		</div>
		<br>
		<!--提交图片按钮-->
		<div style="text-align: center">
			<button id="submit" disabled="disabled" onclick="check()">提交图片</button>
		</div>
	</div>

	<!--弹出框_搜索相似图片-->
	<div class="popBox" id="popBox_search" style="width:450px;height:330px;">
		<!--关闭按钮-->
		<div class="close">
			<a href="javascript:void(0)" onclick="closeBox_search()">关闭</a>
		</div>
		<!--上传图片标题-->
		<div class="content" style="text-align: center;font-size: 25px">上传图片找相似</div>
		<br>
		<!--上传图片-->
		<div class="layui-form-item" style="padding-left:10px;padding-right:10px">
			<div class="layui-input-block">
				<input type="hidden" id="img_url_search">
				<input type="file" onchange="showImg_search()" id="img_file_search">
				<img src="" alt="" id="img_id_search" style="height: 150px">
			</div>
		</div>
		<br>
		<!--提交图片按钮-->
		<div style="text-align: center">
			<button id="submit_search"  onclick="check_search()">提交图片</button>
		</div>
	</div>

		<div class="title-style">
			<div class="nav-style">
				<div class="navbar-nav">
					<ul class="nav nav-tabs" role="tablist">
						<li role="presentation" style="margin: 0 40px 0 0;" ><span style="height: 40px;line-height: 40px;font-weight: bold;font-size: 18px;">图片社区</span></li>
					    <li role="presentation" class="active" style="margin: 0 40px 0 0;" ><a href="photo" aria-controls="home" role="tab" data-toggle="tab"style="color: black;">照片</a></li>
					    <li role="presentation" style="margin: 0 40px 0 0;" ><a href="#illustration" aria-controls="home" role="tab" data-toggle="tab"style="color: black;">插画</a></li>
						<li role="presentation" style="margin: 0 40px 0 0;"><a href="#vector" aria-controls="home" role="tab" data-toggle="tab"style="color: black;">向量</a></li>
						<li role="presentation" class="dropdown" style="margin: 0 40px 0 630px;">
						    <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
						      aria-haspopup="true" aria-expanded="true">探索<span class="caret"></span>
						    </button>
							<table class="dropdown-menu" aria-labelledby="dropdownMenu1">
								<tr>
									<th>Media</th>
									<th>Community</th>
									<th>About</th>
								</tr>
								<tr>
									<td><a>小编精选</a></td>
									<td><a>博客</a></td>
									<td><a>服务条款</a></td>
								</tr>
								<tr>
									<td><a>Popular Images</a></td>
									<td><a>论坛</a></td>
									<td><a>隐私政策</a></td>
								</tr>
								<tr>
									<td><a>Popular Videos</a></td>
									<td><a>Artists</a></td>
									<td><a>关于我们</a></td>
								</tr>
							</table>
						</li>
						<li style="margin: 0 40px 0 0;"><a href="" style="color: black;">登录</a></li>
						<li style="margin: 0 40px 0 0;"><a href="" style="color: black;">注册</a></li>
						<li style="margin: 0 20px 0 0;"><a href="#" style="color: black;" onclick="popBox()">
							<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-upload" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
							    <path fill-rule="evenodd" d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
							    <path fill-rule="evenodd" d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
						    </svg>上传</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane active" id="photo">
				<div class="search-style" style="background-image: url(img/photo.webp);">
					<h1 style="padding-top: 100px;padding-left:560px;color: white;align-content: center;">免费正版高清图片素材库</h1>
					<h4 style="margin-top:30px; padding-left: 500px;color: white;">图片社区拥有超过许多优质图片素材，让你轻松应对各种设计场景</h4>
					<div class="search" style="display: flex;">
						<div style="height: 60px; width: 60px; background-color: #fff;margin-left: 500px;margin-top: 50px;">
							<svg width="50px" height="50px" viewBox="0 0 16 16" class="bi bi-search" style="padding-left: 10px; padding-top:15px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
								<path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
							  </svg>
						</div>			
						<form action="" method="post">
							<input type="search" placeholder="照片" style="outline: none; width: 440px; height: 60px; font-size: 20px; margin-top: 50px;border: none;"/>
						</form>
						<button class="btn-success" onclick="popBox_search()" style="height: 60px;width: 100px; margin-top: 50px; border:none; font-size: 18px; letter-spacing: 2px;">相似图片</button>

					</div>
				</div>
			</div>
			<div role="tabpanel" class="tab-pane" id="illustration">
				<div class="search-style" style="background-image: url(./img/bg1.webp);">
					<h1 style="padding-top: 100px;padding-left:560px;color: white;align-content: center;">免费正版高清图片素材库</h1>
					<h4 style="margin-top:30px; padding-left: 500px;color: white;">图片社区拥有超过许多优质图片素材，让你轻松应对各种设计场景</h4>
					<div class="search" style="display: flex;">
						<div style="height: 60px; width: 60px; background-color: #fff;margin-left: 500px;margin-top: 50px;">
							<svg width="50px" height="50px" viewBox="0 0 16 16" class="bi bi-search" style="padding-left: 10px; padding-top:15px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
								<path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
							  </svg>
						</div>			
						<form action="" method="post">
							<input type="search" placeholder="插画" style="outline: none; width: 440px; height: 60px; font-size: 20px; margin-top: 50px;border: none;"/>
						</form>
						<button class="btn-success" onclick="popBox_search()" style="height: 60px;width: 100px; margin-top: 50px; border:none; font-size: 18px; letter-spacing: 2px;">相似图片</button>
					</div>
				</div>
			</div>
			<div role="tabpanel" class="tab-pane" id="vector">
				<div class="search-style" style="background-image: url(img/bg2.webp);">
					<h1 style="padding-top: 100px;padding-left:560px;color: white;align-content: center;">免费正版高清图片素材库</h1>
					<h4 style="margin-top:30px; padding-left: 500px;color: white;">图片社区拥有超过许多优质图片素材，让你轻松应对各种设计场景</h4>
					<div class="search" style="display: flex;">
						<div style="height: 60px; width: 60px; background-color: #fff;margin-left: 500px;margin-top: 50px;">
							<svg width="50px" height="50px" viewBox="0 0 16 16" class="bi bi-search" style="padding-left: 10px; padding-top:15px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
								<path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
							  </svg>
						</div>			
						<form action="" method="post">
							<input type="search" placeholder="向量" style="outline: none; width: 440px; height: 60px; font-size: 20px; margin-top: 50px;border: none;"/>
						</form>
						<button class="btn-success" onclick="popBox_search()" style="height: 60px;width: 100px; margin-top: 50px; border:none; font-size: 18px; letter-spacing: 2px;">相似图片</button>
					</div>
				</div>
			</div>	
		</div>
		<div style="display:flexbox;">
			<div id="picture">
			</div>
		</div>
		
		<ul class="mfb-component--br mfb-zoomin" data-mfb-toggle="hover">
			<li class="mfb-component__wrap">
			  <a href="javascript:;" class="mfb-component__button--main" id="btn">
			  </a>
			</li>
		  </ul>
		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/mfb.min.js"></script>
		<script>
			window.onload = function() {

				// 获取页面可视区的高度

				var clientHeight = document.documentElement.clientHeight;

				// 回到顶部，按钮

				var obtn = document.getElementById('btn');

				var timer = null;

				var isTop = true;



					// 滚动条 滚动时触发

					window.onscroll = function() {

						var osTop = document.documentElement.scrollTop || document.body.scrollTop;

						if (osTop >= clientHeight) {

							obtn.style.display = 'none'; // 显示

						} else {

							obtn.style.display = 'block'; // 隐藏

						}

						if (!isTop) {

							clearInterval(timer)

						}

						isTop = false; // 

					}



					obtn.onclick = function() {

						// 设置定时器

						timer = setInterval(function() {

						// 获取滚动条，距离顶部的高度（适配IE浏览器，google浏览器）

						var osTop = document.documentElement.scrollTop || document.body.scrollTop;

						var iSpeed = Math.floor(-osTop / 6); // 小数点，向下舍入。

						isTop = true;

						document.documentElement.scrollTop = document.body.scrollTop = (osTop + iSpeed);

						if (osTop == 0) {

							clearInterval(timer);

						}

					}, 10);

				}

			}
			
			var arrayZ=new Array;
			var arrayS=new Array;
			var arrayP=new Array;
			var arrayZn=[0,0,0,0,0,0];
			var arraySn=[0,0,0,0,0,0];
			var markZs=[0,0,0,0,0,0];
			var markSs=[0,0,0,0,0,0];
			var photo=document.getElementById("photo");
			var paths=["./img/001.jpg","./img/002.jpg","./img/003.jpg","./img/004.jpg","./img/005.jpg","./img/006.jpg"];
			function createPhoto(i){
				var photoNode=document.createElement("div");
				photoNode.style.width="450px";
				photoNode.style.height="300px";
				photoNode.style.position="absolute";
				var w=i%3;
				var h=Math.floor(i/3);
				photoNode.style.left=60+w*480+"px";
				photoNode.style.top=510+h*300+'px';
				photo.appendChild(photoNode);
				photoNode.style.zIndex="1";
				return photoNode;
			}
			for(var i=0;i<6;i++)
			{
				var photoNode=createPhoto(i);
				var photoA=document.createElement("a");
				var image=document.createElement("img");
				var btnZ=document.createElement("button");
				var btnS=document.createElement("button");
				var spanZ=document.createElement("span");
				var spanS=document.createElement("span");
				var aaa=document.createElement("a");
				var spanCn=document.createElement("span");
				photoA.href="#";
				
				photoNode.appendChild(photoA);
				image.style.width="430px";
				image.style.height="280px";
				image.src=paths[i];
				image.style.padding='10px';
				image.style.zIndex="2";
				image.onclick=function(){
					window.location.href="pictureShow.html";
					localStorage.setItem('src',$(this).attr("src"));
				}
				
				photoA.appendChild(image);
				btnZ.style.position="absolute";
				btnZ.style.top=240+"px";
				btnZ.style.left=220+"px";
				btnS.style.position="absolute";
				btnS.style.top=240+"px";
				btnS.style.left=285+"px";
				btnZ.innerText="赞";
				btnZ.style.zIndex="3";
				photoNode.appendChild(btnZ);
				btnS.innerText="收藏";
				btnS.style.zIndex="3";
				photoNode.appendChild(btnS);
				spanZ.style.position="absolute";
				spanZ.style.top=240+"px";
				spanZ.style.left=255+"px";
				spanS.style.position="absolute";
				spanS.style.top=240+"px";
				spanS.style.left=330+"px";
				spanS.innerHTML=arraySn[i];
				spanZ.innerHTML=arrayZn[i];
				photoNode.appendChild(spanZ);
				photoNode.appendChild(spanS);
				aaa.style.position="absolute";
				aaa.style.top=240+"px";
				aaa.style.left=350+"px";
				aaa.innerHTML="评论";
				aaa.href="#";
				spanCn.style.position="absolute";
				spanCn.style.top=240+"px";
				spanCn.style.left=390+"px";
				spanCn.innerHTML=0;
				photoNode.appendChild(aaa);
				photoNode.appendChild(spanCn);
				arrayS.push(btnS);
				arrayZ.push(btnZ);
			}

			var btn=document.createElement("button");
			btn.innerText="获取更多";
			btn.style.top=parseInt(photoNode.style.top)+330+"px";
			btn.style.left=650+"px";
			btn.style.position="absolute";
			photo.appendChild(btn);
			btn.className="btn-success";
			btn.style.height=50+"px";
			btn.style.width=200+"px";
			btn.style.fontSize="30px";
			btn.style.borderRadius="5px";
			btn.style.outline="none";
			btn.style.letterSpacing="2px";
			var arraySpan=document.querySelectorAll("span");
			console.log(arraySpan);
			arrayS.forEach(function(item,index){
				item.onclick=function(){
					if(markSs[index]==0)
					{
						arraySn[index]++;
						markSs[index]=1;
						console.log(arraySn[index]);					
					}
					else if(markSs[index]==1)
					{
						arraySn[index]--;
						markSs[index]=0;
						console.log(arraySn[index]);
					}
					arraySpan[3+3*index].innerHTML=arraySn[index];
				}
			});
			arrayZ.forEach(function(item,index){
				item.onclick=function(){
					if(markZs[index]==0)
					{
						arrayZn[index]++;
						markZs[index]=1;
						console.log(arrayZn[index]);					
					}
					else if(markZs[index]==1)
					{
						arrayZn[index]--;
						markZs[index]=0;
						console.log(arrayZn[index]);
					}
					arraySpan[2+3*index].innerHTML=arrayZn[index];
				}
			});
		</script>
	</body>
</html>
